# OpenCV.js～クライアントサイドで実装できる画像・ビデオ処理Webアプリケーションの作成（仮題）

豊沢 聡, Version 2023-11-15

【
[タイトル候補](#タイトル候補) | 
[目次](#目次) | 
[パッケージ構成](#パッケージ構成)
】

### タイトル候補

- OpenCV.jsによるHTML5/JavaScript画像・ビデオ処理
- OpenCV.js～クライアントサイドで実装できる画像・ビデオ処理Webアプリケーションの作成
- Webページで画像処理～HTML5/JavaScriptとOpenCV.js

#### 目次

［著者概算で現在**299**ページ。各省の概算も［］で示しました］

- はじめに ［まだ途中］
	- 注意事項
- 第1章 HTML5の画像・ビデオ・カメラの入出力 ［**43**］
	- 1.1 画像処理の流れ
	- 1.2 画像をキャンバスに表示する
	- 1.3 部分領域をキャンバスに表示する
	- 1.4 ビデオを表示する
	- 1.5 ビデオをランダムにシャッフルする
	- 1.6 ビデオサムネールを作成する
	- 1.7 ビデオに字幕を加える
	- 1.8 カメラ映像を流す
	- 1.9 ビデオをフレーム単位で取得する
- 第2章 HTML5のユーザインタフェース ［**37**］
	- 2.1 ローカルファイルを選択する
	- 2.2 ビデオをキャプチャする
	- 2.3 カメラにオンオフボタンを加える
	- 2.4 日本語文字を画像に重畳する
	- 2.5 プルダウンメニューからフィルタを選択する
	- 2.6 トラックバーからサイズを調整する
	- 2.7 マウス操作で部分領域を切り取る
- 第3章 OpenCV.jsの導入 ［**16**］
	- 3.1 OpenCV.jsを準備する
	- 3.2 Cross-Originの問題を回避する
	- 3.3 OpenCVリファレンスを読む
	- 3.4 OpenCVの関数を調べる
	- 3.5 OpenCV.jsの定数を調べる
- 第4章 画像の構造 ［**40**］
	- 4.1 画像の構造を調べる
	- 4.2 キャンバスをコピーする
	- 4.3 ピクセルの色名を判定する
	- 4.4 モノクロで円を描く
	- 4.5 浮動小数点数で円を描く
	- 4.6 お絵描きツールを作る
	- 4.7 部分領域だけ処理する
- 第5章 色を扱う ［**37**］
	- 5.1 カラーをモノクロ化する
	- 5.2 ネガにする
	- 5.3 セピア調にする（およびその他の線形フィルタ）
	- 5.4 RGB画像を色成分に分解する
	- 5.5 色相図を描く
	- 5.6 ポスター化する
	- 5.7 白と黒だけにする
	- 5.8 背景を入れ替える（輝度調整付き）
- 第6章 画像処理 ［**71**］
	- 6.1 一部領域をモザイク化する
	- 6.2 画像をぼかす
	- 6.3 画像から線画を起こす
	- 6.4 QRコードを読む
	- 6.5 電線を消す
	- 6.6 書類の傾きを補正する
	- 6.7 顔を検出する
	- 6.8 画像を合成する
- 第7章 ビデオ処理 ［**39**］
	- 7.1 ビデオフレームと画像を合成する
	- 7.2 カメラ映像を鏡像反転する
	- 7.3 実写をミニチュア風にする
	- 7.4 ショットをトランジションでつなぐ
	- 7.5 動いているものだけを抜き出す
	- 7.6 動きの方向を検出する
- 付録A 参考文献 ［**4**］
- 付録B 複数の非同期読み込みの扱い ［**7**］
- 付録C OpenCV関数リスト ［**2**］
- 付録D CSS ［**2**］
- 著者プロフィール


### パッケージ構成

- 本文はMarkdownで書かれています。一部の表はMarkdownでは書けないので、HTMLを使っています。数式の一部（`$`または`$$`で囲まれている）はLateXで書かれています（Githubがレンダリングしてくれます）。
	- 章（`##`）、節（`###`）までは番号が振られていますが、項（`####`）以下には付けていません。そのさらに下を使っているのは5.3節だけです。
	- ハイフンには`U+FF0D`の`－`を、縦ドットには`U+FE19`の`︙`を使っています。あと、ところどころ絵文字も入っていますが、DTPできなければご一報ください。
- 画面や図版は`Images`に収容してあります。
	- 図、表、画面には番号は振られていません。
	- 図版はLibre Office ODGあるいはxlsxで描いたものを、コピーしてPNGにしたものです。元データはそれぞれ`images.odg`、`images.xlsx`です。
	- 実行例画面中の画像・ビデオサイズは横幅320、高さ（アスペクト比が関係ないときは）240です。ただし、一列にたくさんいれるときは240x180にしています。
	- 画面キャプチャは右側が空いていようと、横1024ピクセルでキャプチャしてあります。
	- 画面で枠線や文字などを筆者が描き入れたものについては、`WithoutHighlights`サブディレクトリにないバージョンが収容されています。
- 出版社サイトに公開するものはコードを収容した`Codes`ディレクトリと付録Cです。その下にはいくつかサブディレクトリがありますが、それらも公開対象です。
	- `haarcascade`...6.7節の顔画像認識用訓練済みデータ。行末は`LF`なので、アップロード時には注意してください。
	- `libs`...本書にも掲載しているユーティリティツール群。
	- `samples`...サンプル画像。筆者謹製の一部を除いて、すべて[pixabay](https://pixabay.com/ "LINK")から取ってきています。サイズは画像は横1280、ビデオは横640です。
