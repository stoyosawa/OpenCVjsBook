<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta charset="UTF-8"></head>
  <link rel=stylesheet type="text/css" href="style.css">
<body>

<h1>ユーザ操作ーファイル選択 &lt;input type="file"&gt;</h1>

<div>
  <img id="imageTag" width="360" height="240" class="placeholder"/>
</div>
<div>
  <input type="file" id="fileTag"/>
</div>

<script>
  let imgElem = document.getElementById('imageTag');
  let fileElem = document.getElementById('fileTag');

  function loadImage() {
    let fileObject = fileElem.files[0];
    imgElem.src = URL.createObjectURL(fileObject);
  }

  function changeSize() {
    let aspect = imgElem.naturalHeight / imgElem.naturalWidth;
    imgElem.height = Math.floor(imgElem.width * aspect);
    console.log(`${imgElem.width}x${imgElem.height}`);
  } 

  fileElem.addEventListener('change', loadImage);
  imgElem.addEventListener('load', changeSize);
</script>

</body>
</html>