<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta charset="UTF-8">
  <link rel=stylesheet type="text/css" href="style.css">
  <script async src="libs/opencv.js" type="text/javascript"></script>
<body>

<h1>字幕付きビデオ（字幕操作）</h1>

<div>
  <video id="videoTag" width="480" controls>
    <source src="samples/cat.mp4" type="video/mp4"/>
    <track id="trackTag" kind="captions" srclang="ja" default src="samples/cat.vtt"/>
  </video>
</div>

<script>
  let videoElem = document.getElementById('videoTag');
  let trackElem = document.getElementById('trackTag');

  function showCue(evt) {
    let cueList = evt.target.track.activeCues;
    if (cueList.length > 0)
      console.log(`${videoElem.currentTime} ${cueList[0].text}`);
    else
      console.log(`${videoElem.currentTime} Cue changed but no cue`);
  }

  trackElem.addEventListener('cuechange', showCue);
</script>

</body>
</html>