<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta charset="UTF-8">
  <link rel=stylesheet type="text/css" href="style.css">
  <script async id="scriptTag" src="libs/opencv.js" type="text/javascript">
    </script>
</head>
<body>

<h1>OpenCV.js ローディングのタイミング・その2</h1>

<script>
  let startTime = new Date().getTime();

  function showTime() {
    let t = new Date().getTime();
    return `${t} Δ${t-startTime}`
  }

  let scriptElem = document.getElementById('scriptTag');
  scriptElem.addEventListener('load', function(evt) {
    console.log(`onload: ${showTime()}`);
  });

  var Module = {
    onRuntimeInitialized: function() {
      console.log(`onRuntimeInitialized: ${showTime()}`);
    }
  };
</script>

</body>
</html>