<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta charset="UTF-8">
  <link id="linkTag" rel=stylesheet href="style.css"/>
  <script async id="scrTagOverlay" src="libs/overlay.js"></script>
  <script async id="scrTagOpencv" src="libs/opencv.js"></script>
  <script async id="scrTagNtc" src="https://chir.ag/projects/ntc/ntc.js"></script>
</head>
<body>

<h1>OpenCV 初期化検出を Promise 化する</h1>

<div>
  <img id="imageTag" src="../Codes/samples/color-gradation.png"/>
</div>

<script> 
  let promise = new Promise(function(resolve, reject) {
    Module = {
      onRuntimeInitialized: function() {
        resolve(`opencvInitialized at ${performance.now()}`);
      }
    }
  });

  promise.then(function(val) {
    console.log(val);
  });
</script>

</body>
</html>